# Example workflow showing how to use this action from ANOTHER repository
# Copy this file to your repository's .github/workflows/ folder

name: Use Google Sheet Action from Another Repo

on:
  workflow_dispatch:
  push:
    branches: [main]

jobs:
  append-to-sheet:
    runs-on: ubuntu-latest
    name: Log activity to Google Sheet

    steps:
      - name: Append deployment log
        id: log
        uses: AlbertPuwadol/google-sheet-github-action@main # Reference the action
        with:
          spreadsheet_id: ${{ secrets.SPREADSHEET_ID }}
          sheet_name: "Activity Log"
          values: '["${{ github.repository }}", "${{ github.actor }}", "${{ github.event_name }}", "${{ github.sha }}", "${{ github.run_number }}"]'
          auth_type: "service_account"
          credentials: ${{ secrets.GOOGLE_SERVICE_ACCOUNT_JSON }}

      - name: Show results
        run: |
          echo "âœ… Successfully logged to Google Sheet"
          echo "Range: ${{ steps.log.outputs.updated_range }}"
          echo "Rows updated: ${{ steps.log.outputs.updated_rows }}"
